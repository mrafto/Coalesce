{
    "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PTERODACTYL PANEL - v1.0.0",
    "meta": {
        "version": "PTDL_v2",
        "update_url": null
    },
    "exported_at": "2024-12-09T12:00:00+00:00",
    "name": "Coalesce Discord Music Bot",
    "author": "mrafto@github.com",
    "description": "A feature-rich Discord music bot built with TypeScript, Discord.js v14, and yt-dlp. Play music from YouTube without API keys!",
    "features": [
        "eula"
    ],
    "docker_images": {
        "Node 22": "ghcr.io/parkervcp/yolks:nodejs_22",
        "Node 21": "ghcr.io/parkervcp/yolks:nodejs_21",
        "Node 20": "ghcr.io/parkervcp/yolks:nodejs_20",
        "Node 18": "ghcr.io/parkervcp/yolks:nodejs_18"
    },
    "file_denylist": [],
    "startup": "if [[ -d .git ]] && [[ {{AUTO_UPDATE}} == \"1\" ]]; then git pull; fi; if [ -f package.json ]; then npm install --production; fi; npm run build; npm run deploy-commands; node dist/index.js",
    "config": {
        "files": "{\r\n    \".env\": {\r\n        \"parser\": \"file\",\r\n        \"find\": {\r\n            \"DISCORD_TOKEN\": \"DISCORD_TOKEN={{env.DISCORD_TOKEN}}\",\r\n            \"CLIENT_ID\": \"CLIENT_ID={{env.CLIENT_ID}}\",\r\n            \"GUILD_ID\": \"GUILD_ID={{env.GUILD_ID}}\"\r\n        }\r\n    }\r\n}",
        "startup": "{\r\n    \"done\": \"Bot is ready!\"\r\n}",
        "logs": "{}",
        "stop": "^^C"
    },
    "scripts": {
        "installation": {
            "script": "#!/bin/bash\n# Coalesce Discord Bot Installation Script\n\nset -e\n\necho \"=========================================\"\necho \"  Coalesce Discord Bot Installation\"\necho \"=========================================\"\necho \"\"\n\n# Install system dependencies\necho \"[1/6] Installing system dependencies...\"\nexport DEBIAN_FRONTEND=noninteractive\napt update\napt install -y git curl jq file unzip make gcc g++ python3 python3-pip ffmpeg\necho \"✓ System dependencies installed\"\n\n# Create server directory\nmkdir -p /mnt/server\ncd /mnt/server\n\n# Clone or update repository\nGIT_ADDRESS=\"https://github.com/mrafto/Coalesce.git\"\n\necho \"\"\necho \"[2/6] Setting up repository...\"\nif [ -d .git ]; then\n    echo \"Updating existing repository...\"\n    git pull\nelse\n    echo \"Cloning repository from GitHub...\"\n    git clone ${GIT_ADDRESS} .\nfi\necho \"✓ Repository ready\"\n\n# Install yt-dlp\necho \"\"\necho \"[3/6] Installing yt-dlp...\"\npython3 -m pip install --upgrade yt-dlp\necho \"✓ yt-dlp installed\"\n\n# Install node modules\necho \"\"\necho \"[4/6] Installing npm packages...\"\nif [ -f package.json ]; then\n    npm install\n    echo \"✓ npm packages installed\"\nelse\n    echo \"⚠ No package.json found\"\nfi\n\n# Build TypeScript\necho \"\"\necho \"[5/6] Building TypeScript project...\"\nif [ -f tsconfig.json ]; then\n    npm run build\n    echo \"✓ TypeScript build complete\"\nelse\n    echo \"⚠ No tsconfig.json found\"\nfi\n\n# Final instructions\necho \"\"\necho \"[6/6] Installation complete!\"\necho \"\"\necho \"=========================================\"\necho \"  Next Steps:\"\necho \"=========================================\"\necho \"\"\necho \"1. Set your environment variables in the panel:\"\necho \"   • DISCORD_TOKEN (required)\"\necho \"   • CLIENT_ID (required)\"\necho \"   • GUILD_ID (optional)\"\necho \"\"\necho \"2. Start the server!\"\necho \"\"\necho \"=========================================\"",
            "container": "node:22-bookworm-slim",
            "entrypoint": "bash"
        }
    },
    "variables": [
        {
            "name": "Discord Bot Token",
            "description": "Your Discord bot token from https://discord.com/developers/applications",
            "env_variable": "DISCORD_TOKEN",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|max:255",
            "field_type": "text"
        },
        {
            "name": "Discord Client ID",
            "description": "Your Discord application client ID",
            "env_variable": "CLIENT_ID",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|max:255",
            "field_type": "text"
        },
        {
            "name": "Discord Guild ID",
            "description": "Your Discord server ID for testing (optional, leave empty for global commands)",
            "env_variable": "GUILD_ID",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|max:255",
            "field_type": "text"
        },
        {
            "name": "Auto Update",
            "description": "Pull the latest version from GitHub on startup (1 = enabled, 0 = disabled)",
            "env_variable": "AUTO_UPDATE",
            "default_value": "0",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|boolean",
            "field_type": "text"
        }
    ]
}

